CREATE DATABASE IF NOT EXISTS `woodposters` ;
USE `woodposters`;
CREATE TABLE IF NOT EXISTS `users` (
  `username` varchar(50) NOT NULL,
  `password` varchar(100) NOT NULL,
  `full_name` varchar(100) NOT NULL,
  `role` varchar(50) NOT NULL,
  `country` varchar(100) NOT NULL,
  `enabled` tinyint(1) NOT NULL,
  PRIMARY KEY (`username`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO `users` (`username`, `password`, `full_name`, `role`, `country`, `enabled`) VALUES
	('dmko1113', '$2a$10$AOQcLk9T6vahNuhwf.21YOVKjgIUQ3z9tgtKUYWdV6eejTNW5e1da', 'Dmitry Kovalenko', 'ROLE_ADMIN', 'Ukraine', 1),
	('dmko1114', '$2a$10$AOQcLk9T6vahNuhwf.21YOVKjgIUQ3z9tgtKUYWdV6eejTNW5e1da', 'Dmitry Kovalenko2', 'ROLE_USER', 'Ukraine', 1);












CREATE TABLE IF NOT EXISTS `product` (
  `product_id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `price` decimal(10,0) NOT NULL,
  `size` VARCHAR(20) DEFAULT NULL,
  `status` tinyint(1) DEFAULT 1 NOT NULL,
  `bundle_image` VARCHAR(20) DEFAULT NULL,
  `discriminator` VARCHAR(2) NOT NULL,
  PRIMARY KEY (`product_id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `product_name` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `product_id` int(11) unsigned NOT NULL,
  `name` varchar(40) NOT NULL,
  `locale` varchar(10) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `product_id` (`product_id`),
  CONSTRAINT `product_name_ibfk_1` FOREIGN KEY (`product_id`) REFERENCES `product` (`product_id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `product_description` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `product_id` int(11) unsigned NOT NULL,
  `description` varchar(90) NOT NULL,
  `locale` varchar(10) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `product_id` (`product_id`),
  CONSTRAINT `product_description_ibfk_1` FOREIGN KEY (`product_id`) REFERENCES `product` (`product_id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `category` (
  `category_id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (`category_id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `category_name` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `category_id` int(11) unsigned NOT NULL,
  `name` varchar(40) NOT NULL,
  `locale` varchar(10) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  CONSTRAINT `category_name_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`category_id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `product_category` (
 `product_id` int(11) unsigned NOT NULL,
 `category_id` int(11) unsigned NOT NULL,
  PRIMARY KEY (`product_id`,`category_id`),
  KEY `category_id` (`category_id`),
  CONSTRAINT `product_category_ibfk_1` FOREIGN KEY (`product_id`) REFERENCES `product` (`product_id`),
  CONSTRAINT `product_category_ibfk_2` FOREIGN KEY (`category_id`) REFERENCES `category` (`category_id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `product_type` (
  `product_type_id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (`product_type_id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `product_type_name` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `product_type_id` int(11) unsigned NOT NULL,
  `name` varchar(40) NOT NULL,
  `locale` varchar(10) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `product_type_id` (`product_type_id`),
  CONSTRAINT `product_type_name_ibfk_1` FOREIGN KEY (`product_type_id`) REFERENCES `product_type` (`product_type_id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `product_type_mapping` (
 `product_id` int(11) unsigned NOT NULL,
 `product_type_id` int(11) unsigned NOT NULL,
  PRIMARY KEY (`product_id`,`product_type_id`),
  KEY `product_type_id` (`product_type_id`),
  CONSTRAINT `product_type_mapping_ibfk_1` FOREIGN KEY (`product_id`) REFERENCES `product` (`product_id`),
  CONSTRAINT `product_type_mapping_ibfk_2` FOREIGN KEY (`product_type_id`) REFERENCES `product_type` (`product_type_id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `technology` (
  `technology_id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (`technology_id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `technology_name` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `technology_id` int(11) unsigned NOT NULL,
  `name` varchar(40) NOT NULL,
  `locale` varchar(10) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `technology_id` (`technology_id`),
  CONSTRAINT `technology_name_ibfk_1` FOREIGN KEY (`technology_id`) REFERENCES `technology` (`technology_id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `product_technology` (
 `product_id` int(11) unsigned NOT NULL,
 `technology_id` int(11) unsigned NOT NULL,
  PRIMARY KEY (`product_id`,`technology_id`),
  KEY `technology_id` (`technology_id`),
  CONSTRAINT `product_technology_ibfk_1` FOREIGN KEY (`product_id`) REFERENCES `product` (`product_id`),
  CONSTRAINT `product_technology_ibfk_2` FOREIGN KEY (`technology_id`) REFERENCES `technology` (`technology_id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `material` (
  `material_id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (`material_id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `material_name` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `material_id` int(11) unsigned NOT NULL,
  `name` varchar(40) NOT NULL,
  `locale` varchar(10) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `material_id` (`material_id`),
  CONSTRAINT `material_name_ibfk_1` FOREIGN KEY (`material_id`) REFERENCES `material` (`material_id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `product_material` (
 `product_id` int(11) unsigned NOT NULL,
 `material_id` int(11) unsigned NOT NULL,
  PRIMARY KEY (`product_id`,`material_id`),
  KEY `material_id` (`material_id`),
  CONSTRAINT `product_material_ibfk_1` FOREIGN KEY (`product_id`) REFERENCES `product` (`product_id`),
  CONSTRAINT `product_material_ibfk_2` FOREIGN KEY (`material_id`) REFERENCES `material` (`material_id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;

